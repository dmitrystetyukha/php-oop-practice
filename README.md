# Задание:
Спроектировать по задаче: PHP --> ООП
---
# Реализация
## Сущности системы
**Основные сущности системы**
 - Пользователь -- исходя из задания может существовать в нескольких состояниях:
   - Пользователь -- самый простой обыватель в системе. Может быть забанен.
   - Организатор -- чуть выше по правам от обывателя, потому как может приглашать других пользователей на свое Мероприятие.
   - Администратор -- может удалять/добавлять других пользователей.
 - Мероприятие
 - Роль

## Сущности в реализации
 - `\Entity\Role` -- Сущность представляет возможные роли пользователей в системе.
Каждый кейс перечисления подразумевает наличие соответствующего класса 
в пространстве имен `\Entity\User`
   - int $id
   - string $name
 - `\Entity\Event` -- сущность Мероприятие
   - int $id
   - string $name
 - `\Entity\User\BaseUser` -- базовая сущность пользователя, содержит основные поля пользователя
   - null|int $id
   - string $name
   - string $email
   - Role $role
 - `\Entity\User\Administrator` -- сущность администратора, по полям соответствует `BaseUser`
 - `\Entity\User\Organizer` -- сущность организатора мероприятий
   - Event $event

### Варианты использования
Зная особенности каждой сущности пользователя по заданию, для каждой из них были созданы
индивидуальные варианты использования системы.

`\UseCase\BaseUserUseCase` -- варианты использования системы всеми без исключения пользователями.
Содержит общие методы. "Получить письмо восстановления пароля" - абстрактный, потому требует обязательной
реализации в каждом классе-наследнике.

`\UseCase\CustomerUseCase` -- варианты использования системы обычным обывателем. 
Может только то, что описано в `UseCase\BaseUserUseCase`.

`\UseCase\OrganizerUseCase` -- варианты использования системы обычным обывателем. Содержит доп.
метод "Пригласить пользователя на свое мероприятие".

`\UseCase\AdministratorUseCase` -- варианты использования системы администратором. Может дополнительно
добавить/удалить Пользователя/Организатора ().

`\UseCase\BanUserTrait` -- вариант использования, общий для Организатора и Администратора,
"Забанить пользователя".

### Репозиторий
В данном случае доп. абстракцией над моделями системы. При таком абстрагировании мы можем добавить 
другой репозиторий в систему, приведя его в соответствие с абстрактным классом `\Repository\BaseUserRepository`
и не трогать остальную логику.

### RoleManager
`\RoleManager\UserCreator::createUser()` представляют собой фабричный метод, который возвращает 
экземпляр **нужного нам наследника** от `Entity\BaseUser` в зависимости от той Роли, которую мы отдаем 
в качестве аргумента.

`\RoleManager\UserCreator::createUser()` то же самое, только уже принимает экземпляр пользователя, проверяет
роль и возвращает экземпляр нужного наследника UseCase в зависимости от Роли экземпляра пользователя.

`\RoleManager\ButtonSetCreator` принимает в качестве аргумента экземпляр вариантов использования и возвращает
массив из строк типа `'<button>UseCaseName-button</button>'`

## Usage
Базовое использование без взаимодействия с репозиторием отображено в `/src/template.php`
